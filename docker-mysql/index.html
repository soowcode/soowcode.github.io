<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Docker-MySQL - SoowCode</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Docker-MySQL";
        var mkdocs_page_input_path = "docker-mysql.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SoowCode
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">About US</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../MQTT/">MQTT</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Ubuntu-Oh-my-zsh/">Oh My Zsh</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Ubuntu-commandes/">Ubuntu utilities</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../alerte_manager/">Alerte manager</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../apache-benchmark/">ApacheBench</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../callback-function/">Fonction callback ou anonyme</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cockpit/">Cockpit</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker-/">Docker</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Docker-MySQL</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#fonctionnement">Fonctionnement</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#docker-compose">Docker-compose</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#docker-run">Docker run</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#variables-denvironnement">Variables d'environnement</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker-registry/">Docker Registry</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../git-commands-utils/">Git Delete üòá</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../github-actions/">Github-actions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../gitlab_ci/">Gitlab-ci</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../good-to-know/">Good to know</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../happy-path-and-edge-cases/">Happy path and edge cases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../npm-vs-npx/">Npm vs npx</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../python-/">Python installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../python-commandes/">Python commandes utiles</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../python-functions/">Python fonctions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../react-native/">React Native</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../tests/">Tests logiciels</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Js</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../js/js/">Javascript</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SoowCode</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Docker-MySQL</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="docker-mysql">Docker-MySQL</h1>
<p><img src="../../img/docker-mysql.png" alt="drawing" /></p>
<h2 id="introduction">Introduction</h2>
<li><i style=" margin-left:5%; font-weight:bold; font-size:28px">MySQL </i>
      <ul></br>
          <li>est un syst√®me de gestion de base de donn√©es relationnelle</li>
          <li>est open source et gratuit</li>
          <li>est id√©al pour les petites et les grandes applications</li>
          <li>est tr√®s rapide, fiable, √©volutif et facile √† utiliser</li>
          <li>est multiplateforme et conforme √† la norme ANSI SQL</li>
          <li>a √©t√© publi√© pour la premi√®re fois en 1995</li>
          <li>est d√©velopp√©, distribu√© et pris en charge par Oracle Corporation</li>
          <li>porte le nom de la fille du co-fondateur Monty Widenius : My</li>
      </ul>
  </li>

<h2 id="fonctionnement">Fonctionnement</h2>
<h3 id="docker-compose">Docker-compose</h3>
<p>Pour faire tourner une database MySQL dans un conteneur la cr√©ation d'un docker-compose.yml est n√©cessaire ou l'utilisation d'un docker run.</p>
<div style="text-align:center">
<img src="../../img/thinking-boy.gif" alt="drawing" style="width:30%; height:30%"/>
<p> Hummm, comment le faire???</p>
</div>
<p>Ahhh, mais c'est simple, cr√©er un fichier "docker compose.yml " dans votre folder et  mettez ceci dedans.</p>
<pre><code class="language-yml">version: &quot;3.9&quot;
services:
  mysql:
    image: mysql:5.7.36
    hostname: db-mysql
    container_name: db-mysql
    #replace environment section
    environment:
      #celui-ci est le seul obligatoire
      - MYSQL_ROOT_PASSWORD: root_assword
      - MYSQL_USER: mon_user
      - MYSQL_PASSWORD: user_password
      - MYSQL_DATABASE: database_name
    #expose le port de MySQL sinon il ne sera pas vu par la machine on appelle ceci le biding
    ports:
      - 3306:3306
</code></pre>
<p>Ainsi, en ligne de commande acc√©der √† MySQL en tapant:</p>
<pre><code>  docker exec -it db-mysql bash
</code></pre>
<p>Ne vous d√©couragerez pas je vous explique</p>
<ul>
<li>Le "docker exec" ex√©cute une commande dans un conteneur en cours d'ex√©cution.</li>
<li>Le "-it" signifie fais le en mode interactive</li>
<li>Le "db-mysql" est nom du conteneur</li>
<li>Le "bash" √† la fin signifie qu'on veut ex√©cuter "db-mysql" en mode bash</li>
</ul>
<blockquote>
<p>Sachez que le "docker-compose" manipule les services, mais que docker lui seul manipule les containers.</p>
</blockquote>
<p>Mais, perso, j'ai choisi d'installer sur vscode l'extension database qui me permet de me connecter et de manipuler MySQL avec une jolie interface <a style="text-decoration: underline; color:black" href="https://marketplace.visualstudio.com/items?itemName=bajdzis.vscode-database">plus d'info sur l'extension database.</a></p>
<div style="text-align:center">
<img src="../../img/mysql_r.png" alt="drawing" />
<p>Database extension apr√®s connexion √† la base mysql</p>
</div>

<p>No kidding üòÇ !! je ne me suis pas arret√©e l√†.</p>
<p>J'ai donc rajout√© une interface web en utilisant adminer. Documentation juste üëâ <a style="text-decoration: underline; color:black" href="https://www.adminer.org/"> ici</a>.<br />
Sinon voici un exemple de docker-compose avec adminer comme service.</p>
<pre><code class="language-yml">adminer:
  depends_on:
    - mysql
  image: adminer
  restart: always
  ports:
    - 8080:8080
</code></pre>
<p><strong>NB:</strong> on rajoute "depends*on:" car on veut qu'il attende que MySQL finisse de d√©marrer avant de se lancer.<br />
Vous trouverez plus d'info sur <a style="text-decoration: underline; color:black" href="https://hub.docker.com/*/mysql?tab=description"> docker hub</a>.</p>
<h3 id="docker-run">Docker run</h3>
<p>Alors j'aime bien le docker-compose, car √ßa nous √©vite de rappeler nos commandes ou bien de recopier tout le temps la commande. C'est aussi un moyen rapide de faire des modifications.</p>
<p>Mais ce n'est pas la seule m√©thode √† utiliser pour initialiser un container MySQL, il y a la simple commande <code>docker run</code></p>
<pre><code>docker run --name=container_name  --restart on-failure -d image_name:tag
</code></pre>
<p>En rempla√ßant les lettres par leurs valeurs, on obtient un truc pareil :</p>
<pre><code>docker run -itd --name db-mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=root_assword -e MYSQL_USER=mon_user -e   MYSQL_PASSWORD=user_password -e MYSQL_DATABASE=database_name  mysql:5.7.36
</code></pre>
<h3 id="variables-denvironnement">Variables d'environnement</h3>
<p>On ne va surtout pas tous les voir ici, mais je vous invite √† r√©garder <a href="https://dev.mysql.com/doc/refman/5.7/en/environment-variables.html" style="text-decoration: underline; color:black" > ici</a> o√π vous en trouverez beaucoup.
Alors ceux qu'on a utilis√©s sont assez clairs, mais pour juste un peu parler, je dirais que chaque serve ou base de donn√©es bref chaque image docker peut contenir des variables d'environnements.
On peut donc trouver dans le docker hub de l'image ou bien sur le site officiel de la techno quel environnement on en a besoin.<br />
On le sp√©cifie dans docker run avec " -e, --env, --env-file " et dans un docker-compose par "environment"</p>
<h6> Exemple de dokcer run:</h6>

<pre><code> docker run -e MYVAR1 --env MYVAR2=foo --env-file ./env.list ubuntu bash

</code></pre>
<h6> Exemple de dokcer-compose:</h6>

<pre><code class="language-yml">environment:
  - MYSQL_ROOT_PASSWORD: root_assword
  - MYSQL_USER: mon_user
  - MYSQL_PASSWORD: user_password
  - MYSQL_DATABASE: database_name

</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>Nous arrivons √† la fin de notre tuto happy!!üòÅ, je vous invite donc de voir <a style="text-decoration: underline; color:black" href="https://docs.docker.com/compose/gettingstarted/">ce article sur docker-compose.</a><br />
Car, ceci n'est qu'une introduction au MySQL en utilisant les containers, pour plus d'informations visitez le site <a style="text-decoration: underline; color:black"  href="https://hub.docker.com/_/mysql?tab=description"> docker-hub </a> ou sur le site de MySQL <a style="text-decoration: underline; color:black" href="https://www.mysql.com/">www.mysql.com </a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../docker-/" class="btn btn-neutral float-left" title="Docker"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../docker-registry/" class="btn btn-neutral float-right" title="Docker Registry">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../docker-/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../docker-registry/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
